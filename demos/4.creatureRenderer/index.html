<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <canvas id="main" width="800" height="600"></canvas>

    <script src="jsbezier.js"></script>
    <script>
        var canvas = document.querySelector('#main');
        var ctx = canvas.getContext('2d');

        function cpline (p1, cp1, cp2) {
            ctx.beginPath();
            ctx.arc(cp2[0], cp2[1], 3, 0, 2 * Math.PI, false);
            ctx.lineTo(p1[0], p1[1]);
            ctx.arc(p1[0], p1[1], 3, 0, 2 * Math.PI, false);
            ctx.lineTo(cp1[0], cp1[1]);
            ctx.arc(cp1[0], cp1[1], 3, 0, 2 * Math.PI, false);
            ctx.fillStyle = 'red';
            ctx.fill();
        }

        function drawHead(xoff, yoff) {

            var bezier1 = [];

            bezier1[0] = {x: 100 + xoff, y: 30 + yoff};
            bezier1[3] = {x: 100 + xoff, y: 110 + yoff};
            bezier1[1] = {x: bezier1[0].x + 70, y: bezier1[0].y - 5};
            bezier1[2] = {x: bezier1[3].x - 65, y: bezier1[3].y + 3};

            var bezier2 = [];

            bezier2[0] = bezier1[3];
            bezier2[3] = bezier1[0];
            bezier2[1] = {x: bezier2[0].x + 70, y: bezier2[0].y - 5};
            bezier2[2] = {x: bezier2[3].x - 65, y: bezier2[3].y + 3};

            cpline(bezier1[0], p1c1, p1c2);
            cpline(p2, p2c1, p2c2);

            ctx.beginPath();
            ctx.moveTo(p1[0], p1[1]);
            bezier(p1c1, p2c1, p2);
            bezier(p2c2, p1c2, p1);
            ctx.stroke();
        }

        function drawEar(xoff, yoff) {
            var p1 = [5 + xoff, 33 + yoff];
            var p2 = [12 + xoff, 5 + yoff];
            var p3 = [22 + xoff, 22 + yoff];

            var p2c1 = [p2[0] - 5, p2[1] - 3];
            var p2c2 = [p2[0] + 2, p2[1] - 1];

            ctx.beginPath();
            ctx.moveTo(p1[0], p1[1]);
            bezier(p1, p2c1, p2);
            bezier(p2c2, p3, p3);
            ctx.stroke();
        }


        function bezier (cp1, cp2, p2) {
            ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p2[0], p2[1]);
        }

        drawHead(0, 0);
        drawEar(40, 20);
        pointOnCurve(curve, location);
    </script>
</body>
</html>
